summercamp2014
==============

The ntuples are on the LEPP `lnx` cluster:

```
[jmt46@lnx201 ~] $ ls -lh /cda/cdat/tem/jmt46/flattrees/
total 25G
drwxr-xr-x 2 jmt46 cms 4.0K Jun 17 10:11 logs
-rw-r--r-- 1 jmt46 cms 196M Jun 17 01:03 mfv_neutralino_tau0100um_M0400.root
-rw-r--r-- 1 jmt46 cms 213M Jun 17 01:04 mfv_neutralino_tau0300um_M0400.root
-rw-r--r-- 1 jmt46 cms 231M Jun 17 01:04 mfv_neutralino_tau1000um_M0400.root
-rw-r--r-- 1 jmt46 cms 244M Jun 17 01:05 mfv_neutralino_tau9900um_M0400.root
-rw-r--r-- 1 jmt46 cms  60M Jun 17 01:05 qcdht0100.root
-rw-r--r-- 1 jmt46 cms 1.2G Jun 17 01:06 qcdht0250.root
-rw-r--r-- 1 jmt46 cms 6.9G Jun 17 01:08 qcdht0500.root
-rw-r--r-- 1 jmt46 cms 4.6G Jun 17 01:11 qcdht1000.root
-rw-r--r-- 1 jmt46 cms 1.3G Jun 17 01:12 ttbardilep.root
-rw-r--r-- 1 jmt46 cms 4.0G Jun 17 01:16 ttbarhadronic.root
-rw-r--r-- 1 jmt46 cms 5.5G Jun 17 01:19 ttbarsemilep.root
```

You can copy them to your laptop, but be prepared for it to take a
while. The syntax to copy is

```
  scp username@lnx201.lns.cornell.edu:/cdat/tem/jmt46/ttbarhadronic.root .
```

Some skeleton code to read them and output the number of events
consists of the `.C` and `.h` file in this directory.

Put both the `.C` and `.h` in the same directory as the `.root` files,
and then you can do

```
[user@localhost $]  root -l MFVFlatNtupleReader.C+
root [0] MFVFlatNtupleReader r
root [1] r.Loop()
```

Be sure not to forget the `+` so that root compiles the macro, or it
will be slower than it already is. You should eventually see output
like

```
done!
sample mfv_neutralino_tau0100um_M0400 events read:      96043
sample mfv_neutralino_tau0300um_M0400 events read:      96653
sample mfv_neutralino_tau1000um_M0400 events read:      96975
sample mfv_neutralino_tau9900um_M0400 events read:      96734
sample                  ttbarhadronic events read:    2503538
sample                   ttbarsemilep events read:    3489937
sample                     ttbardilep events read:     796885
sample                      qcdht0100 events read:      37489
sample                      qcdht0250 events read:     822457
sample                      qcdht0500 events read:    4759413
sample                      qcdht1000 events read:    3088150
```

The `.C` and `.h` were mostly generated by `TTree::MakeClass` -- you
can read about that in the root user's guide. Don't worry about lots
of parts of the `.h`, it's auto-generated code. The part to read are
the descriptions of the variables on
[these lines](https://github.com/jordantucker/summercamp2014/blob/master/MFVFlatNtupleReader.h#L26-145).

The only thing you might want to edit in the `.h` are the filenames
and the path to them: see
[these lines](https://github.com/jordantucker/summercamp2014/blob/master/MFVFlatNtupleReader.h#L297-307).
You can run on only one sample to do tests by commenting out the rest
of the filenames.

The event loop is in the `.C` in the `Loop()` method
[here](https://github.com/jordantucker/summercamp2014/blob/master/MFVFlatNtupleReader.C#L67-81). The
only thing it does right now is count the number of events read per
sample. Then the final "analysis" prints out those counts
[here](https://github.com/jordantucker/summercamp2014/blob/master/MFVFlatNtupleReader.C#L85-86).

To start, try to implement the cuts from the current analysis to count
what we call good vertices:
* number of tracks >= 5
* number of tracks w/ pT > 3 GeV >= 3
* track pair delta R min < 0.4
* 1.2 < track pair delta R max < 4
* uncertainty on xy distance to beamspot < 25 microns
* number of associated jets >= 1
* sum of number of hits on tracks behind vertex position == 0

Count the number of events in just the `qcdht1000` sample (3088150 events) that have
* at least one good vertex (you should find 22743),
* at least two good vertices (you should find 19),
* at least two good vertices, one pair of which are separated in the
xy plane by more than 500 microns (you should find 2).
